{{$occ := 814206096528900107}}
{{$chan := 814208095537725460}}
{{$staff := 808837717520547881}}
{{if eq .Channel.ID $chan}}
  {{if .ReactionAdded}}
    {{$embed := structToSdict (index .Message.Embeds 0) }}
    {{ range $k, $v := $embed }}
      {{- if eq (kindOf $v true) "struct" }}
        {{- $embed.Set $k (structToSdict $v) }}
      {{- end -}}
    {{ end }}
    {{$embed.Set "title" (upper $embed.Title)}}
    {{$tex := reFind .User.Username $embed.Footer.Text}}
    {{if and (eq .Reaction.Emoji.Name "🗑️") $tex}}
      {{deleteMessage nil .Message.ID 0}}
      {{print "Message supprimé"}}
      {{deleteResponse 10}}
    {{else if and (eq .Reaction.Emoji.ID "📥") (hasRoleID $staff)}}
      {{$embed.Set "Footer" (sdict "text" (print "Validé par " (title .User.Username)) "Icon_URL" (.User.AvatarURL "256"))}}
      {{$embed.Set "color" 9403866}}
      {{sendMessage $occ (cembed $embed)}}
      {{addMessageReactions nil .Message.ID "🎉"}}
      {{deleteMessage nil .Message.ID 30}}
    {{else if and (eq .Reaction.Emoji.ID "⛔") (hasRoleID $staff)}}
      {{$embed.Set "color" 14492194}}
      {{$embed.Footer.Set "text" $embed.Author.Name}}
      {{$embed.Author.Set "name" (print "REFUSÉ PAR " (upper .User.Username))}}
      {{editMessage nil .Message.ID (complexMessageEdit "content" "" "embed" (cembed $embed))}}
      {{deleteAllMessageReactions nil .Message.ID}}
    {{end}}
  {{end}}
{{end}}